---
title: Información general de Entity Framework Core - EF Core
description: Información general de Entity Framework Core
author: ajcvickers
ms.date: 9/20/2020
uid: core/index
ms.openlocfilehash: 011900b55bc941d6ae6a7ac8aca6001713088c69
ms.sourcegitcommit: c0e6a00b64c2dcd8acdc0fe6d1b47703405cdf09
ms.translationtype: HT
ms.contentlocale: es-ES
ms.lasthandoff: 09/24/2020
ms.locfileid: "91210385"
---
# <a name="entity-framework-core"></a><span data-ttu-id="31259-103">Entity Framework Core</span><span class="sxs-lookup"><span data-stu-id="31259-103">Entity Framework Core</span></span>

<span data-ttu-id="31259-104">Entity Framework (EF) Core es una versión ligera, extensible, [de código abierto](https://github.com/aspnet/EntityFrameworkCore) y multiplataforma de la popular tecnología de acceso a datos Entity Framework.</span><span class="sxs-lookup"><span data-stu-id="31259-104">Entity Framework (EF) Core is a lightweight, extensible, [open source](https://github.com/aspnet/EntityFrameworkCore) and cross-platform version of the popular Entity Framework data access technology.</span></span>

<span data-ttu-id="31259-105">EF Core puede actuar como asignador relacional de objetos, que se encarga de lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="31259-105">EF Core can serve as an object-relational mapper (O/RM), which:</span></span>

* <span data-ttu-id="31259-106">Permite a los desarrolladores de .NET trabajar con una base de datos usando objetos .NET.</span><span class="sxs-lookup"><span data-stu-id="31259-106">Enables .NET developers to work with a database using .NET objects.</span></span>
* <span data-ttu-id="31259-107">Permite prescindir de la mayor parte del código de acceso a datos que normalmente es necesario escribir.</span><span class="sxs-lookup"><span data-stu-id="31259-107">Eliminates the need for most of the data-access code that typically needs to be written.</span></span>

<span data-ttu-id="31259-108">EF Core es compatible con muchos motores de base de datos; vea [Proveedores de bases de datos](xref:core/providers/index) para más información.</span><span class="sxs-lookup"><span data-stu-id="31259-108">EF Core supports many database engines, see [Database Providers](xref:core/providers/index) for details.</span></span>

## <a name="the-model"></a><span data-ttu-id="31259-109">El modelo</span><span class="sxs-lookup"><span data-stu-id="31259-109">The model</span></span>

<span data-ttu-id="31259-110">Con EF Core, el acceso a datos se realiza mediante un modelo.</span><span class="sxs-lookup"><span data-stu-id="31259-110">With EF Core, data access is performed using a model.</span></span> <span data-ttu-id="31259-111">Un modelo se compone de clases de entidad y un objeto de contexto que representa una sesión con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="31259-111">A model is made up of entity classes and a context object that represents a session with the database.</span></span> <span data-ttu-id="31259-112">Este objeto de contexto permite consultar y guardar datos.</span><span class="sxs-lookup"><span data-stu-id="31259-112">The context object allows querying and saving data.</span></span> <span data-ttu-id="31259-113">Para más información, vea [Creación de un modelo](xref:core/modeling/index).</span><span class="sxs-lookup"><span data-stu-id="31259-113">For more information, see [Creating a Model](xref:core/modeling/index).</span></span>

<span data-ttu-id="31259-114">EF admite los siguientes métodos de desarrollo de modelos:</span><span class="sxs-lookup"><span data-stu-id="31259-114">EF supports the following model development approaches:</span></span>

* <span data-ttu-id="31259-115">Generar un modelo a partir de una base de datos existente.</span><span class="sxs-lookup"><span data-stu-id="31259-115">Generate a model from an existing database.</span></span>
* <span data-ttu-id="31259-116">Codificar un modelo manualmente para que coincida con la base de datos.</span><span class="sxs-lookup"><span data-stu-id="31259-116">Hand code a model to match the database.</span></span>
* <span data-ttu-id="31259-117">Una vez creado un modelo, usar [Migraciones de EF](xref:core/managing-schemas/migrations/index) para crear una base de datos a partir del modelo.</span><span class="sxs-lookup"><span data-stu-id="31259-117">Once a model is created, use [EF Migrations](xref:core/managing-schemas/migrations/index) to create a database from the model.</span></span> <span data-ttu-id="31259-118">Migraciones permite que la base de datos evolucione a medida que el modelo va cambiando.</span><span class="sxs-lookup"><span data-stu-id="31259-118">Migrations allow evolving the database as the model changes.</span></span>

[!code-csharp[Main](../../samples/core/Intro/Model.cs)]

## <a name="querying"></a><span data-ttu-id="31259-119">Consultas</span><span class="sxs-lookup"><span data-stu-id="31259-119">Querying</span></span>

<span data-ttu-id="31259-120">Las instancias de las clases de entidad se recuperan de la base de datos por medio de [Integrated Query (LINQ)](/dotnet/csharp/programming-guide/concepts/linq/).</span><span class="sxs-lookup"><span data-stu-id="31259-120">Instances of your entity classes are retrieved from the database using Language [Integrated Query (LINQ)](/dotnet/csharp/programming-guide/concepts/linq/).</span></span> <span data-ttu-id="31259-121">Para más información, vea [Consulta de datos](xref:core/querying/index).</span><span class="sxs-lookup"><span data-stu-id="31259-121">For more information, see [Querying Data](xref:core/querying/index).</span></span>

[!code-csharp[Main](../../samples/core/Intro/Program.cs#Querying)]

## <a name="saving-data"></a><span data-ttu-id="31259-122">Guardado de datos</span><span class="sxs-lookup"><span data-stu-id="31259-122">Saving data</span></span>

<span data-ttu-id="31259-123">Los datos se crean, se eliminan y se modifican en la base de datos mediante instancias de las clases de entidad.</span><span class="sxs-lookup"><span data-stu-id="31259-123">Data is created, deleted, and modified in the database using instances of your entity classes.</span></span> <span data-ttu-id="31259-124">Vea [Guardado de datos](xref:core/saving/index) para más información.</span><span class="sxs-lookup"><span data-stu-id="31259-124">See [Saving Data](xref:core/saving/index) to learn more.</span></span>

[!code-csharp[Main](../../samples/core/Intro/Program.cs#SavingData)]

## <a name="ef-orm-considerations"></a><span data-ttu-id="31259-125">Consideraciones de EF ORM</span><span class="sxs-lookup"><span data-stu-id="31259-125">EF ORM considerations</span></span>

<span data-ttu-id="31259-126">Mientras que EF Core es bueno extrayendo muchos detalles de programación, existen algunos procedimientos recomendados válidos para cualquier ORM que ayudan a evitar errores comunes en las aplicaciones de producción:</span><span class="sxs-lookup"><span data-stu-id="31259-126">While EF Core is good at abstracting many programming details, there are some best practices applicable to any ORM that help to avoid common pitfalls in production apps:</span></span>

 - <span data-ttu-id="31259-127">Tener un conocimiento medio o superior del servidor de base de datos subyacente es esencial para generar perfiles, diseñar, depurar y migrar datos en aplicaciones de producción de alto rendimiento</span><span class="sxs-lookup"><span data-stu-id="31259-127">Intermediate-level knowledge or higher of the underlying database server is essential to architect, debug, profile, and migrate data in high performance production apps.</span></span> <span data-ttu-id="31259-128">(por ejemplo, conocer las claves principales y externas, las restricciones, los índices, la normalización, las instrucciones DML y DDL, los tipos de datos, los perfiles, etc.).</span><span class="sxs-lookup"><span data-stu-id="31259-128">For example, knowledge of primary and foreign keys, constraints, indexes, normalization, DML and DDL statements, data types, profiling, etc.</span></span>
- <span data-ttu-id="31259-129">Pruebas funcionales y de integración.  Es importante replicar el entorno de producción de la forma más próxima posible para permitir lo siguiente:</span><span class="sxs-lookup"><span data-stu-id="31259-129">Functional and integration testing:  It's important to replicate the production environment as closely as possible to:</span></span>
  - <span data-ttu-id="31259-130">Encontrar problemas en la aplicación que solo se revelan cuando se usa una edición o una versión específica del servidor de base de datos.</span><span class="sxs-lookup"><span data-stu-id="31259-130">Find issues in the app that only show up when using a specific versions or edition of the database server .</span></span>
  - <span data-ttu-id="31259-131">Detectar cambios importantes al actualizar EF Core y otras dependencias</span><span class="sxs-lookup"><span data-stu-id="31259-131">Catch breaking changes when upgrading EF Core and other dependencies.</span></span> <span data-ttu-id="31259-132">(por ejemplo, agregar o actualizar marcos como ASP.NET Core, OData o Automapper).</span><span class="sxs-lookup"><span data-stu-id="31259-132">For example, adding or upgrading frameworks like ASP.NET Core, OData, or Automapper.</span></span> <span data-ttu-id="31259-133">Estas dependencias pueden afectar a EF Core de formas imprevistas.</span><span class="sxs-lookup"><span data-stu-id="31259-133">These dependencies can affect EF Core in unexpected ways.</span></span>
- <span data-ttu-id="31259-134">Pruebas de rendimiento y esfuerzo con cargas representativas.</span><span class="sxs-lookup"><span data-stu-id="31259-134">Performance and stress testing with representative loads.</span></span> <span data-ttu-id="31259-135">El uso irreflexivo de algunas características no escala bien.</span><span class="sxs-lookup"><span data-stu-id="31259-135">The naïve usage of some features doesn't scale well.</span></span> <span data-ttu-id="31259-136">Por ejemplo, varias colecciones Includes, el uso intensivo de cargas diferidas, las consultas condicionales en columnas no indexadas, las inserciones y actualizaciones masivas con valores generados por el almacén, la falta de control de la simultaneidad, el uso de modelos grandes o unas directivas inadecuadas de almacenamiento en memoria caché.</span><span class="sxs-lookup"><span data-stu-id="31259-136">For example, multiple collections Includes, heavy use of lazy loading, conditional queries on non-indexed columns, massive updates and inserts with store-generated values, lack of concurrency handling, large models, inadequate cache policy.</span></span>
- <span data-ttu-id="31259-137">Revisión de seguridad: por ejemplo, el control de las cadenas de conexión y otros secretos, los permisos de base de datos para operaciones de no implementación, la validación de entradas para SQL sin procesar o el cifrado de datos confidenciales.</span><span class="sxs-lookup"><span data-stu-id="31259-137">Security review: For example, handling of connection strings and other secrets, database permissions for non-deployment operation, input validation for raw SQL, encryption for sensitive data.</span></span>
- <span data-ttu-id="31259-138">Asegúrese de que las capacidades de registro y diagnóstico son suficientes y utilizables,</span><span class="sxs-lookup"><span data-stu-id="31259-138">Make sure logging and diagnostics are sufficient and usable.</span></span> <span data-ttu-id="31259-139">por ejemplo, una configuración de registros adecuada, etiquetas de consulta y Application Insights.</span><span class="sxs-lookup"><span data-stu-id="31259-139">For example, appropriate logging configuration, query tags, and Application Insights.</span></span>
- <span data-ttu-id="31259-140">Recuperación de errores.</span><span class="sxs-lookup"><span data-stu-id="31259-140">Error recovery.</span></span> <span data-ttu-id="31259-141">Prepare contingencias para afrontar escenarios de error comunes, como reversiones de versión, servidores de reserva, escalabilidad horizontal y equilibrio de carga, la mitigación de DoS y copias de seguridad de datos.</span><span class="sxs-lookup"><span data-stu-id="31259-141">Prepare contingencies for common failure scenarios such as version rollback, fallback servers, scale-out and load balancing, DoS mitigation, and data backups.</span></span>
- <span data-ttu-id="31259-142">Implementación y migración de aplicaciones.</span><span class="sxs-lookup"><span data-stu-id="31259-142">Application deployment and migration.</span></span> <span data-ttu-id="31259-143">Planee cómo se van a aplicar las migraciones durante la implementación, ya que hacerlo en el inicio de una aplicación puede derivar en problemas de simultaneidad y requiere permisos más elevados de lo necesario para lograr un funcionamiento normal.</span><span class="sxs-lookup"><span data-stu-id="31259-143">Plan out how migrations are going to be applied during deployment; doing it at application start can suffer from concurrency issues and requires higher permissions than necessary for normal operation.</span></span> <span data-ttu-id="31259-144">Use el almacenamiento provisional para facilitar la recuperación de errores irrecuperables durante la migración.</span><span class="sxs-lookup"><span data-stu-id="31259-144">Use staging to facilitate recovery from fatal errors during migration.</span></span> <span data-ttu-id="31259-145">Para más información, vea [Aplicación de migraciones](xref:core/managing-schemas/migrations/applying).</span><span class="sxs-lookup"><span data-stu-id="31259-145">For more information, see [Applying Migrations](xref:core/managing-schemas/migrations/applying).</span></span>
- <span data-ttu-id="31259-146">Examen y prueba detallados de las migraciones generadas.</span><span class="sxs-lookup"><span data-stu-id="31259-146">Detailed examination and testing of generated migrations.</span></span> <span data-ttu-id="31259-147">Las migraciones se deben comprobar detenidamente antes de aplicarse a los datos de producción.</span><span class="sxs-lookup"><span data-stu-id="31259-147">Migrations should be thoroughly tested before being applied to production data.</span></span> <span data-ttu-id="31259-148">La forma del esquema y los tipos de columna no son fáciles de cambiar una vez que las tablas contienen datos de producción.</span><span class="sxs-lookup"><span data-stu-id="31259-148">The shape of the schema and the column types cannot be easily changed once the tables contain production data.</span></span> <span data-ttu-id="31259-149">Por ejemplo, en SQL Server, `nvarchar(max)` y `decimal(18, 2)` no suelen ser los mejores tipos para las columnas asignadas a propiedades de cadena y decimal, pero son los valores predeterminados que EF emplea porque desconoce cuál es su escenario específico.</span><span class="sxs-lookup"><span data-stu-id="31259-149">For example, on SQL Server, `nvarchar(max)` and `decimal(18, 2)` are rarely the best types for columns mapped to string and decimal properties, but those are the defaults that EF uses because it doesn't have knowledge of your specific scenario.</span></span>

## <a name="next-steps"></a><span data-ttu-id="31259-150">Pasos siguientes</span><span class="sxs-lookup"><span data-stu-id="31259-150">Next steps</span></span>

<span data-ttu-id="31259-151">Para consultar tutoriales de introducción, vea [Introducción a Entity Framework Core](xref:core/get-started/index).</span><span class="sxs-lookup"><span data-stu-id="31259-151">For introductory tutorials, see [Getting Started with Entity Framework Core](xref:core/get-started/index).</span></span>
